<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36" version="24.7.17" pages="5">
  <diagram name="Шарды" id="-H_mtQnk-PTXWXPvYvuk">
    <mxGraphModel dx="1242" dy="819" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="zA23MoTUsTF4_91t8viU-3" value="pymongo-api" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="390" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zA23MoTUsTF4_91t8viU-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zA23MoTUsTF4_91t8viU-3" target="KaaIrCQIL1EqBolWSCEa-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="600" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="KaaIrCQIL1EqBolWSCEa-1" target="KaaIrCQIL1EqBolWSCEa-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-1" value="Роутер" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-2" value="Сервер конфигурации" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="660" y="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-7" value="MongoDB&lt;div&gt;Shard #1&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="455" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="KaaIrCQIL1EqBolWSCEa-7" target="KaaIrCQIL1EqBolWSCEa-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;endArrow=none;endFill=0;" parent="1" source="KaaIrCQIL1EqBolWSCEa-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="575" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-8" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard #2" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="545" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="KaaIrCQIL1EqBolWSCEa-1" target="KaaIrCQIL1EqBolWSCEa-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KaaIrCQIL1EqBolWSCEa-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="KaaIrCQIL1EqBolWSCEa-1" target="KaaIrCQIL1EqBolWSCEa-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="-vSRtfKfSct8R7osVm6a" name="Реплики">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="INwn8wy0XwamwqrPg5im-1" value="pymongo-api" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="INwn8wy0XwamwqrPg5im-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-1" target="INwn8wy0XwamwqrPg5im-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="600" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="INwn8wy0XwamwqrPg5im-4" value="Роутер" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="INwn8wy0XwamwqrPg5im-5" value="Сервер конфигурации" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="610" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GSSuIa9gGOgCD2Hu9WCc-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-6" target="INwn8wy0XwamwqrPg5im-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="INwn8wy0XwamwqrPg5im-6" value="MongoDB&lt;div&gt;Shard1-a&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="470" y="460" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GSSuIa9gGOgCD2Hu9WCc-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-9" target="INwn8wy0XwamwqrPg5im-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="INwn8wy0XwamwqrPg5im-9" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-a" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="560" y="460" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="INwn8wy0XwamwqrPg5im-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-4" target="INwn8wy0XwamwqrPg5im-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="INwn8wy0XwamwqrPg5im-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-4" target="INwn8wy0XwamwqrPg5im-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="420" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="430" />
              <mxPoint x="590" y="430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lajmoHNsxcyoPbIuOoGg-1" value="MongoDB&lt;div&gt;Shard1-b&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="380" y="460" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lajmoHNsxcyoPbIuOoGg-2" value="MongoDB&lt;div&gt;Shard1-c&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="290" y="460" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lajmoHNsxcyoPbIuOoGg-3" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-b" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="660" y="460" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lajmoHNsxcyoPbIuOoGg-4" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-c" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="740" y="460" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GSSuIa9gGOgCD2Hu9WCc-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-4" target="lajmoHNsxcyoPbIuOoGg-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GSSuIa9gGOgCD2Hu9WCc-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-4" target="lajmoHNsxcyoPbIuOoGg-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GSSuIa9gGOgCD2Hu9WCc-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-4" target="lajmoHNsxcyoPbIuOoGg-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GSSuIa9gGOgCD2Hu9WCc-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="INwn8wy0XwamwqrPg5im-4" target="lajmoHNsxcyoPbIuOoGg-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="375" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="GvpZbkd9nTLnMCpBKmtO" name="Кэш">
    <mxGraphModel dx="1242" dy="819" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="NnImKblqK0oomm_-AKxS-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="NnImKblqK0oomm_-AKxS-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="600" y="219" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NnImKblqK0oomm_-AKxS-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="YoTktcxm22btW787z-rP-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="560" y="282" />
            </Array>
            <mxPoint x="560" y="394" as="sourcePoint" />
            <mxPoint x="600" y="281.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NnImKblqK0oomm_-AKxS-1" value="pymongo-api" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="189" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NnImKblqK0oomm_-AKxS-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NnImKblqK0oomm_-AKxS-1" target="YoTktcxm22btW787z-rP-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="530" y="394" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NnImKblqK0oomm_-AKxS-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="YoTktcxm22btW787z-rP-1" target="NnImKblqK0oomm_-AKxS-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="560" y="394" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NnImKblqK0oomm_-AKxS-30" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Redis Cache&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="600" y="200" width="80" height="100" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-1" value="Роутер" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="414" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-2" value="Сервер конфигурации" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="490" y="694" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="YoTktcxm22btW787z-rP-4" target="YoTktcxm22btW787z-rP-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-4" value="MongoDB&lt;div&gt;Shard1-a&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="470" y="544" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="YoTktcxm22btW787z-rP-6" target="YoTktcxm22btW787z-rP-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-6" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-a" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="560" y="544" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="YoTktcxm22btW787z-rP-1" target="YoTktcxm22btW787z-rP-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="YoTktcxm22btW787z-rP-1" target="YoTktcxm22btW787z-rP-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="504" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="514" />
              <mxPoint x="590" y="514" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-9" value="MongoDB&lt;div&gt;Shard1-b&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="380" y="544" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-10" value="MongoDB&lt;div&gt;Shard1-c&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="290" y="544" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-11" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-b" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="660" y="544" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-12" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-c" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="740" y="544" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="YoTktcxm22btW787z-rP-1" target="YoTktcxm22btW787z-rP-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="YoTktcxm22btW787z-rP-1" target="YoTktcxm22btW787z-rP-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="YoTktcxm22btW787z-rP-1" target="YoTktcxm22btW787z-rP-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YoTktcxm22btW787z-rP-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="YoTktcxm22btW787z-rP-1" target="YoTktcxm22btW787z-rP-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="459" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="xrjR-JoHhrkYkhQwz2AS" name="SVC Discovery + API Gateway">
    <mxGraphModel dx="1242" dy="1646" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="MzexcO8AwbwL7O57btXT-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="255" y="-351" as="sourcePoint" />
            <mxPoint x="635" y="12" as="targetPoint" />
            <Array as="points">
              <mxPoint x="255" y="-77" />
              <mxPoint x="550" y="-77" />
              <mxPoint x="550" y="12" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="595" y="80" />
            </Array>
            <mxPoint x="595" y="192" as="sourcePoint" />
            <mxPoint x="635" y="79.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.625;exitY=0.001;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-1" target="MzexcO8AwbwL7O57btXT-48" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="595" y="-102" />
              <mxPoint x="445" y="-102" />
            </Array>
            <mxPoint x="595" y="192" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.622;exitY=-0.006;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-1" target="MzexcO8AwbwL7O57btXT-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="285" y="-302" as="targetPoint" />
            <Array as="points">
              <mxPoint x="595" y="200" />
              <mxPoint x="595" y="200" />
              <mxPoint x="595" y="-102" />
              <mxPoint x="285" y="-102" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="MzexcO8AwbwL7O57btXT-48" target="aS39w5htyvzHMN9sAr2X-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="415" y="-349" as="sourcePoint" />
            <mxPoint x="565" y="195" as="targetPoint" />
            <Array as="points">
              <mxPoint x="415" y="-77" />
              <mxPoint x="550" y="-77" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="MzexcO8AwbwL7O57btXT-48" target="MzexcO8AwbwL7O57btXT-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="475" y="-432" />
              <mxPoint x="605" y="-432" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-48" value="pymongo-api 2" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="385" y="-412" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="MzexcO8AwbwL7O57btXT-50" target="MzexcO8AwbwL7O57btXT-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="285" y="-432" />
              <mxPoint x="605" y="-432" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-50" value="pymongo-api 1" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="195" y="-406" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="MzexcO8AwbwL7O57btXT-52" target="MzexcO8AwbwL7O57btXT-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-52" value="APISIX Gateway" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="285" y="-552" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="MzexcO8AwbwL7O57btXT-54" target="MzexcO8AwbwL7O57btXT-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-54" value="consul kv" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="395" y="-542" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-55" value="consul" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="575" y="-542" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="MzexcO8AwbwL7O57btXT-52" target="MzexcO8AwbwL7O57btXT-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="MzexcO8AwbwL7O57btXT-58" target="MzexcO8AwbwL7O57btXT-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MzexcO8AwbwL7O57btXT-58" value="Nginx" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="285" y="-645" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-1" value="Роутер" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="520" y="210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-2" value="Сервер конфигурации" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="540" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-4" target="aS39w5htyvzHMN9sAr2X-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-4" value="MongoDB&lt;div&gt;Shard1-a&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="520" y="340" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-6" target="aS39w5htyvzHMN9sAr2X-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-6" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-a" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="610" y="340" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-1" target="aS39w5htyvzHMN9sAr2X-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-1" target="aS39w5htyvzHMN9sAr2X-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="610" y="310" />
              <mxPoint x="640" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-9" value="MongoDB&lt;div&gt;Shard1-b&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="430" y="340" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-10" value="MongoDB&lt;div&gt;Shard1-c&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="340" y="340" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-11" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-b" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="710" y="340" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-12" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-c" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="790" y="340" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-1" target="aS39w5htyvzHMN9sAr2X-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-1" target="aS39w5htyvzHMN9sAr2X-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-1" target="aS39w5htyvzHMN9sAr2X-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aS39w5htyvzHMN9sAr2X-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="aS39w5htyvzHMN9sAr2X-1" target="aS39w5htyvzHMN9sAr2X-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="740" y="255" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="f_IZH7NLAXfGk4ttUxWW-1" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Redis Cache&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="635" width="80" height="100" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="NP9MVlc3JazlGBDnKXfm" name="CDN">
    <mxGraphModel dx="1242" dy="1646" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="207" y="-191" as="sourcePoint" />
            <mxPoint x="587" y="172" as="targetPoint" />
            <Array as="points">
              <mxPoint x="207" y="83" />
              <mxPoint x="517" y="83" />
              <mxPoint x="517" y="172" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="547" y="240" />
            </Array>
            <mxPoint x="547" y="352" as="sourcePoint" />
            <mxPoint x="587" y="239.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="517" y="352" as="targetPoint" />
            <mxPoint x="407" y="177" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="8ZuUWyzCT0wFecu1jvj8-46" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="547" y="58" />
              <mxPoint x="397" y="58" />
            </Array>
            <mxPoint x="547" y="352" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" target="8ZuUWyzCT0wFecu1jvj8-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="237" y="-142" as="targetPoint" />
            <Array as="points">
              <mxPoint x="547" y="58" />
              <mxPoint x="237" y="58" />
            </Array>
            <mxPoint x="547" y="352" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-46" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="367" y="-189" as="sourcePoint" />
            <mxPoint x="517" y="352" as="targetPoint" />
            <Array as="points">
              <mxPoint x="367" y="83" />
              <mxPoint x="517" y="83" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="rs07HKRbEGDDQ1WjoEBr-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-46" target="8ZuUWyzCT0wFecu1jvj8-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="427" y="-272" />
              <mxPoint x="557" y="-272" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-46" value="pymongo-api 2" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="337" y="-252" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rs07HKRbEGDDQ1WjoEBr-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-47" target="8ZuUWyzCT0wFecu1jvj8-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="237" y="-272" />
              <mxPoint x="557" y="-272" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-47" value="pymongo-api 1" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="147" y="-246" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-48" target="8ZuUWyzCT0wFecu1jvj8-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-48" value="APISIX Gateway" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="237" y="-392" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-49" target="8ZuUWyzCT0wFecu1jvj8-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-49" value="consul kv" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="347" y="-382" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-50" value="consul" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="527" y="-382" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-48" target="8ZuUWyzCT0wFecu1jvj8-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-59" target="8ZuUWyzCT0wFecu1jvj8-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-59" value="Nginx" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="237" y="-485" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-61" value="User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="92" y="-580" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8ZuUWyzCT0wFecu1jvj8-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="8ZuUWyzCT0wFecu1jvj8-61" target="fXVTAgjIJys2vHGJfyuW-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="202" y="-540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="fXVTAgjIJys2vHGJfyuW-1" target="8ZuUWyzCT0wFecu1jvj8-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-1" value="Web App" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="237" y="-580" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-4" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="692" y="-680" width="215" height="260" as="geometry" />
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-5" value="CDN" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="770" y="-667" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="fXVTAgjIJys2vHGJfyuW-6" target="fXVTAgjIJys2vHGJfyuW-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-6" value="Region #1&lt;br&gt;Static server" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="712" y="-620" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="fXVTAgjIJys2vHGJfyuW-7" target="fXVTAgjIJys2vHGJfyuW-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="942" y="-490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-7" value="Region 2&lt;br&gt;Static server" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="712" y="-530" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="fXVTAgjIJys2vHGJfyuW-1" target="fXVTAgjIJys2vHGJfyuW-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="fXVTAgjIJys2vHGJfyuW-1" target="fXVTAgjIJys2vHGJfyuW-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="672.0000000000002" y="-550.3043478260869" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fXVTAgjIJys2vHGJfyuW-10" value="Origin static server" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="957" y="-570" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-17" value="Роутер" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-18" value="Сервер конфигурации" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="490" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jDQTzrBoFLJnPVr8hJqS-20" target="jDQTzrBoFLJnPVr8hJqS-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-20" value="MongoDB&lt;div&gt;Shard1-a&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="470" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jDQTzrBoFLJnPVr8hJqS-22" target="jDQTzrBoFLJnPVr8hJqS-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-22" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-a" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="560" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jDQTzrBoFLJnPVr8hJqS-17" target="jDQTzrBoFLJnPVr8hJqS-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jDQTzrBoFLJnPVr8hJqS-17" target="jDQTzrBoFLJnPVr8hJqS-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="440" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="450" />
              <mxPoint x="590" y="450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-25" value="MongoDB&lt;div&gt;Shard1-b&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="380" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-26" value="MongoDB&lt;div&gt;Shard1-c&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="290" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-27" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-b" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="660" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-28" value="&lt;div&gt;MongoDB&lt;/div&gt;Shard2-c" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="740" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jDQTzrBoFLJnPVr8hJqS-17" target="jDQTzrBoFLJnPVr8hJqS-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jDQTzrBoFLJnPVr8hJqS-17" target="jDQTzrBoFLJnPVr8hJqS-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jDQTzrBoFLJnPVr8hJqS-17" target="jDQTzrBoFLJnPVr8hJqS-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jDQTzrBoFLJnPVr8hJqS-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jDQTzrBoFLJnPVr8hJqS-17" target="jDQTzrBoFLJnPVr8hJqS-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="395" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XqJWTF7AHq7L3X8Uu5wZ-1" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Redis Cache&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="585" y="150" width="80" height="100" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
